[workflow]
name = "Deploy React to GitHub Pages"
on_push_branches = ["main"]

[jobs.build-deploy]
runs_on = "ubuntu-latest"

[[jobs.build-deploy.steps]]
name = "Checkout"
uses = "actions/checkout@v3"

[[jobs.build-deploy.steps]]
name = "Setup Node"
uses = "actions/setup-node@v3"
with.node-version = 20

[[jobs.build-deploy.steps]]
name = "Install dependencies"
run = "npm ci"

[[jobs.build-deploy.steps]]
name = "Build project"
run = "npm run build"

[[jobs.build-deploy.steps]]
name = "Deploy"
uses = "peaceiris/actions-gh-pages@v3"
with.github_token = "${{ secrets.GITHUB_TOKEN }}"
with.publish_dir = "./dist"
